<!DOCTYPE html>
<html>
<head>
    <title>Basic Authentication </title>
    <style>
        /* Styles for the modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1;
            align-items: center;
            justify-content: center;
        }

        /* Styles for the modal content */
        .modal-content {
            background-color: #fff;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
        }
    </style>
</head>
<body>

<!-- The modal -->
<div id="authenticationModal" class="modal">
    <div class="modal-content">
        <h2>Login</h2>
        <form id="authenticationForm">
            <label for="username">Username:</label>
            <input type="text" id="username" name="username" required><br><br>
            <label for="password">Password:</label>
            <input type="password" id="password" name="password" required><br><br>
            <input type="submit" value="Login">
        </form>
    </div>
</div>

<script>
    // Get the modal and form elements
    var modal = document.getElementById('authenticationModal');
    var form = document.getElementById('authenticationForm');

    // Function to display the modal
    function openModal() {
        modal.style.display = 'block';
    }

    // Function to handle form submission
    function submitForm(event) {
        event.preventDefault();

        var username = document.getElementById('username').value;
        var password = document.getElementById('password').value;

        // Create a base64-encoded authentication string
        var base64Credentials = btoa(username + ':' + password);

        // Set the Authorization header for the XMLHttpRequest
        var xhr = new XMLHttpRequest();
        xhr.open('GET', 'file:///C:/Users/chhot/OneDrive/Desktop/atest.html', true);
        xhr.setRequestHeader('Authorization', 'Basic ' + base64Credentials);

        xhr.onload = function () {
            if (xhr.status === 200) {
                // Authentication successful, you can access the protected content here
                alert('Authentication Successful!');
                modal.style.display = 'none'; // Close the modal
            } else {
                // Authentication failed
                alert('Authentication Failed. Please try again.');
            }
        };

        xhr.send();
    }

    // Add event listeners
    window.addEventListener('load', openModal);
    form.addEventListener('submit', submitForm);
</script>

</body>
</html>
